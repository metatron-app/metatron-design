<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>METATRON</title>
    <!-- polaris css --->
    <link rel="stylesheet" href="../css/polaris.v2.css"/>

    <script src="../js/jquery/jquery.1.9.1.min.js"></script>

    <!-- multydatasource js --->
    <script type="text/javascript" src="../js/multidata/vis.js"></script>
    <script>
        $(function(){
            $('.ddp-ui-tab li a').click(function(){
                var $tabIdx = $(this).parent().index();
                $(this).parent().addClass('ddp-selected');
                $(this).parent().siblings().removeClass('ddp-selected');
                $('.ddp-ui-tab-contents').eq($tabIdx).show();
                $('.ddp-ui-tab-contents').eq($tabIdx).siblings().hide();
            });
        });
    </script>
</head>
<body class="thema-black">

<div class="ddp-type-contents ddp-resize ddp-type">
    <!-- 닫기 버튼 -->
    <a href="javascript:" class="ddp-btn-close"></a>
    <!-- //닫기 버튼 -->
    <div class="ddp-ui-name2 ddp-type3">
        Create a dashboard
        <span class="ddp-txt-info">Setting up relationships between datasources</span>
        <em class="ddp-bg-order-line2-type2"></em>
    </div>
    <div class="ddp-type-contents-in">
        <!-- contents -->
        <!-- edit 모드일때 ddp-edit 추가 -->
        <div class="ddp-box-popupcontents3 ddp-type-multidata ddp-edit">
            <div class="ddp-multidata-option">
                <a href="javascript:" class="ddp-btn-guide">Guide</a>
                <span class="ddp-edit-title">Edit associations</span>
                <a href="javascript:" class="ddp-btn-line ddp-type"><em class="ddp-icon-btn-done"></em>Done</a>
            </div>
            <!-- mutidata -->
            <div class="ddp-ui-multidata">
                <!-- guide -->
                <div class="ddp-view-guide">
                    <div class="ddp-wrap-guide">
                        <div class="ddp-ui-guide">
                            <span class="ddp-txt-det">Click on a datasource and drag the edge</span>
                            <span class="ddp-sub-det"> to another datasource to connect them</span>
                            <!-- motion -->
                            <div class="ddp-guide-motion ">
                                <div class="ddp-motion ">

                                    <span class="ddp-box-nodes ddp-first">Datasource 1</span>
                                    <div class="ddp-line-bar ">
                                        <em class="ddp-icon-handler"></em>

                                    </div>
                                    <span class="ddp-box-nodes ddp-last">Datasource 1</span>
                                </div>
                            </div>
                            <!-- //motion -->
                            <script>
                                $(function(){
                                    setInterval(function(){
                                        $('.ddp-guide-motion .ddp-line-bar').delay(2000).animate({
                                            paddingLeft:"270"
                                        },1000);

                                        $('.ddp-guide-motion .ddp-line-bar').delay(2000).animate({
                                            paddingLeft:"0"
                                        },1000);
                                    });
                                });
                            </script>

                            <div class="ddp-guide-link"><a href="javascript:" class="ddp-link-txt">got it!</a></div>

                        </div>
                    </div>

                </div>
                <!-- //guide -->

                <div class="ddp-view-multidata">

                    <span class="ddp-txt-message">Click on a datasource and drag the edge to another datasource to connect them</span>
                    <div class="ddp-size-button">
                        <a  href="javascript:" class="ddp-btn-sizeup"></a>
                        <a  href="javascript:" class="ddp-btn-sizedown"></a>
                        <a  href="javascript:" class="ddp-btn-fit"></a>

                    </div>
                    <!-- network -->
                    <div id="mynetwork" style="display:"></div>
                    <!-- //network -->

                </div>
            </div>
            <!-- //mutidata -->
        </div>
        <!-- //contents -->
    </div>

</div>


<!-- multydatasource option js --->

<script type="text/javascript">

    function startNetwork() {

        // create an array with nodes
        nodes = [
            {id: 1, label: '1'},
            {id: 2, label: 'DS n'},
            {id: 3, label: 'NoNode de 3'},
            {id: 4, label: 'Node 4'},
            {id: 5, label: 'Node 5'}
        ];

        // create an array with edges
        var edges = new vis.DataSet([
            {from: 1, to: 3, label: 'delete'},
            {from: 1, to: 2},
            {from: 2, to: 4},
            {from: 2, to: 5}

        ]);

        // create a network
        var container = document.getElementById('mynetwork');
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {
            interaction:{hover:true},
            manipulation:{
                enabled:true
            },
            nodes : {
                size:2,

                borderWidth:1,
                shadow:true,
                widthConstraint:170,
                heightConstraint:33,

                color: {
                    border:'#fff',
                    background: '#fff',
                    highlight: {
                        border: '#666eb2',
                        background: '#f0f4ff'
                    },
                    hover :{
                        border: '#666eb2',
                        background: '#f0f4ff'
                    }
                },
                font:{
                    size:16
                },
                labelHighlightBold:false
            },
            edges: {
                width:40,
                color:{
                    color:'#d0d1d8',
                    highlight:'#c1cef1',
                    hover: '#b7b9c2',
                    inherit: 'from',
                    opacity:1.0
                },
                font:{
                    color: '#343434',
                    size:12
                },
                smooth:false,
                length : 200
            }
        };
        network = new vis.Network(container, data, options);

    }


    startNetwork();
</script>
<!-- multydatasource option js --->
</body>
</html>
